Include: setup.vader

#----------------------------------------------------------------# Write tasks #

Execute (kronos#database#WriteTasks):
  call kronos#database#WriteTasks(g_database, g_tasks)

Then (should write tasks to database):
  Assert filereadable(g_database)

#-----------------------------------------------------------------# Read tasks #

Execute (kronos#database#ReadTasks):
  call kronos#database#WriteTasks(g_database, [])

Then (should read empty tasks to database):
  AssertEqual
    \ [],
    \ kronos#database#ReadTasks(g_database)


Execute (kronos#database#ReadTasks):
  call kronos#database#WriteTasks(g_database, g_tasks)

Then (should read non-empty tasks to database):
  AssertEqual 
    \ [{'desc': 'task', 'tags': ['test'], 'due': 1527462653}],
    \ kronos#database#ReadTasks(g_database)

