Include: setup.vader

#----------------------------------------------------------------# Write tasks #

Execute (WriteTasks):
  call kronos#database#WriteTasks(g_database, g_tasks)

Then (should write tasks to database):
  Assert filereadable(g_database)

#-----------------------------------------------------------------# Read tasks #

Execute (ReadTasks):
  let before = kronos#database#ReadTasks(g_database)
  call kronos#database#WriteTasks(g_database, g_tasks)
  let after = kronos#database#ReadTasks(g_database)

Then (should read tasks from database):
  AssertEqual [], before
  AssertEqual g_tasks, after
  unlet before after

